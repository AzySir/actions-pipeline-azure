name: Terraform Deployment
on:
  workflow_dispatch:
    inputs:
      env:
        type: choice
        description: Select an Environment
        options:
        - dev
        - stg
        - prod

jobs:
  terraform:
    name: Terraform Deploy to ${{ github.event.inputs.env }}
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v3
      - name: Terraform
        uses: ./.github/templates/terraform
        with: 
          env: ${{ github.event.inputs.env }}

